Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>apply plugin: 'com.android.application'\r\napply plugin: 'com.google.gms.google-services'\r\napply plugin: 'kotlin-android'\r\napply plugin: 'kotlin-android-extensions'\r\n\r\nandroid {\r\n    compileSdkVersion 29\r\n    buildToolsVersion \"30.0.2\"\r\n\r\n    defaultConfig {\r\n        applicationId \"com.example.covid_19shoppingcentre\"\r\n        minSdkVersion 24\r\n        targetSdkVersion 29\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n        multiDexEnabled true\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n    sourceSets {\r\n        main {\r\n            res {\r\n                srcDirs 'src/main/res', 'src/main/res/layout/customer_list'\r\n            }\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n        coreLibraryDesugaringEnabled true\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: \"libs\", include: [\"*.jar\"])\r\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\r\n    implementation 'androidx.core:core-ktx:1.3.2'\r\n    implementation 'androidx.appcompat:appcompat:1.2.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.1'\r\n    implementation 'androidx.recyclerview:recyclerview:1.1.0'\r\n    implementation 'com.google.android.gms:play-services-maps:17.0.0'\r\n    implementation 'com.google.firebase:firebase-database:19.5.0'\r\n    implementation fileTree(dir: 'lib', include: ['*.aar', '*.jar'], exclude: [])\r\n    implementation files('lib\\\\activation.jar')\r\n    implementation files('lib\\\\additionnal.jar')\r\n    implementation files('lib\\\\mail.jar')\r\n\r\n    testImplementation 'junit:junit:4.12'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\r\n\r\n    //Picasso Load Image\r\n    implementation 'com.squareup.picasso:picasso:2.5.2'\r\n\r\n    //Firebase\r\n    implementation platform('com.google.firebase:firebase-bom:25.12.0')\r\n    //implementation 'com.google.firebase:firebase-analytics-ktx'\r\n    implementation 'com.google.firebase:firebase-database-ktx'\r\n    //Firebase Realtime Database\r\n    implementation 'com.firebaseui:firebase-ui-database:2.3.0'\r\n    //Firebase Storage\r\n    implementation 'com.google.firebase:firebase-storage-ktx'\r\n    implementation 'com.google.firebase:firebase-core:16.0.7'\r\n    implementation 'com.google.firebase:firebase-storage:16.1.0'\r\n    implementation 'com.google.firebase:firebase-auth:16.2.0'\r\n    //libraries(QR Scanner)\r\n    implementation 'com.github.nisrulz:qreader:2.1.2'\r\n    implementation 'com.karumi:dexter:5.0.0'\r\n    implementation 'com.google.android.gms:play-services-vision:18.0.0'\r\n\r\n    implementation 'androidx.cardview:cardview:1.0.0'\r\n\r\n    //Image Slider\r\n    //implementation 'com.github.denzcoskun:ImageSlideshow:0.0.7'\r\n\r\n    //Google Map\r\n    implementation 'com.android.support:appcompat-v7:29.1.1'\r\n    implementation 'com.android.support:design:29.1.1'\r\n    //noinspection UseOfBundledGooglePlayServices\r\n    //compile 'com.google.android.gms:play-services:11.0.0'\r\n    implementation 'com.google.android.gms:play-services-location:17.1.0'\r\n    implementation 'com.squareup.retrofit2:retrofit:2.7.1'\r\n    implementation 'com.squareup.retrofit2:converter-gson:2.7.1'\r\n    implementation 'com.squareup.retrofit2:converter-scalars:2.7.1'\r\n    implementation(\"com.squareup.okhttp3:okhttp:3.14.7\")\r\n    implementation 'com.squareup.okhttp3:okhttp:3.11.0'\r\n    implementation 'com.squareup.okhttp3:logging-interceptor:3.11.0'\r\n    implementation 'com.github.d-max:spots-dialog:0.7@aar'\r\n\r\n    //date and time\r\n    implementation 'com.jakewharton.threetenabp:threetenabp:1.3.0'\r\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.0.10'\r\n\r\n    //chart\r\n    implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'\r\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\r\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\r\n    implementation 'com.squareup.okhttp3:logging-interceptor:4.2.1'\r\n    implementation 'com.google.android.material:material:1.0.0'\r\n\r\n    //libraries(QR Code Generator)\r\n    implementation 'androidmads.library.qrgenearator:QRGenearator:1.0.4'\r\n    implementation 'com.google.zxing:core:3.3.2'\r\n    //ADDED\r\n    implementation 'com.android.support:multidex:1.0.3'\r\n    implementation 'com.google.android.gms:play-services-vision:19.0.0'\r\n\r\n    //libraries(QR Scanner)\r\n    implementation 'com.github.nisrulz:qreader:2.1.2'\r\n    implementation 'com.karumi:dexter:5.0.0'\r\n    implementation 'com.google.android.gms:play-services-vision:18.0.0'\r\n    implementation 'androidx.cardview:cardview:1.0.0'\r\n\r\n    implementation 'com.journeyapps:zxing-android-embedded:4.1.0'\r\n\r\n    implementation 'com.github.d-max:spots-dialog:1.1@aar'\r\n\r\n    //Report Libraries\r\n    implementation 'com.itextpdf:itextg:5.5.10'\r\n    implementation 'com.karumi:dexter:5.0.0'\r\n\r\n    implementation 'com.journeyapps:zxing-android-embedded:4.1.0'\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build.gradle	(revision 31aeeb5ef13e8fe6aec9a8aa7832e3cdae0ba06a)
+++ app/build.gradle	(date 1606285287515)
@@ -55,6 +55,8 @@
     androidTestImplementation 'androidx.test.ext:junit:1.1.2'
     androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'
 
+    //JAVA Firebase
+
     //Picasso Load Image
     implementation 'com.squareup.picasso:picasso:2.5.2'
 
@@ -62,6 +64,7 @@
     implementation platform('com.google.firebase:firebase-bom:25.12.0')
     //implementation 'com.google.firebase:firebase-analytics-ktx'
     implementation 'com.google.firebase:firebase-database-ktx'
+    implementation 'com.google.firebase:firebase-analytics:17.2.1'
     //Firebase Realtime Database
     implementation 'com.firebaseui:firebase-ui-database:2.3.0'
     //Firebase Storage
Index: app/src/main/res/layout/question_mobile.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@drawable/background_gradient\">\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=\"@+id/constraintLayout\"\r\n        android:layout_width=\"354dp\"\r\n        android:layout_height=\"582dp\"\r\n        android:layout_marginStart=\"29dp\"\r\n        android:layout_marginTop=\"4dp\"\r\n        android:layout_marginEnd=\"29dp\"\r\n        android:background=\"@drawable/radius\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.497\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/tfQ2\"\r\n            android:layout_width=\"34dp\"\r\n            android:layout_height=\"20dp\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginTop=\"12dp\"\r\n            android:text=\"Q2\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/cbBreath\" />\r\n\r\n        <CheckBox\r\n            android:id=\"@+id/cbNo\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"28dp\"\r\n            android:layout_marginTop=\"12dp\"\r\n            android:text=\"No\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/cbBreath\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/cbHead\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tfquestion\"\r\n            android:layout_width=\"185dp\"\r\n            android:layout_height=\"44dp\"\r\n            android:text=\"Questionnaire\"\r\n            android:textColor=\"@color/cardview_dark_background\"\r\n            android:textSize=\"30sp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tfquestion1\"\r\n            android:layout_width=\"321dp\"\r\n            android:layout_height=\"30dp\"\r\n            android:layout_marginTop=\"4dp\"\r\n            android:text=\"Do you have any following Symtoms?\"\r\n            android:textColor=\"@color/cardview_dark_background\"\r\n            android:textSize=\"18sp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/tfQ1\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tfquestion2\"\r\n            android:layout_width=\"340dp\"\r\n            android:layout_height=\"48dp\"\r\n            android:layout_marginTop=\"8dp\"\r\n            android:text=\"Do you been Red Zone or traveled outside of Malaysia in past 14 days?\"\r\n            android:textColor=\"@color/cardview_dark_background\"\r\n            android:textSize=\"16sp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/tfQ3\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tfquestion4\"\r\n            android:layout_width=\"344dp\"\r\n            android:layout_height=\"59dp\"\r\n            android:text=\"Do you have close contact with someone has laboratory-confirmed Covid-19 diagnoisi in past 14 days?\"\r\n            android:textColor=\"@color/cardview_dark_background\"\r\n            android:textSize=\"16sp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/tfQ2\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tfQ1\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Q1\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.047\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/tfquestion\" />\r\n\r\n        <CheckBox\r\n            android:id=\"@+id/cbHead\"\r\n            android:layout_width=\"184dp\"\r\n            android:layout_height=\"31dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:text=\"Head or Muscle Aches\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.094\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/cbCough\" />\r\n\r\n        <CheckBox\r\n            android:id=\"@+id/cbSoreThroat\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"12dp\"\r\n            android:layout_marginTop=\"8dp\"\r\n            android:text=\"SoreThroat\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/cbCough\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/tfquestion1\" />\r\n\r\n        <CheckBox\r\n            android:id=\"@+id/cbFever\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"12dp\"\r\n            android:layout_marginTop=\"8dp\"\r\n            android:text=\"Fever\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.027\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/cbSoreThroat\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/tfquestion1\" />\r\n\r\n        <CheckBox\r\n            android:id=\"@+id/cbBreath\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginTop=\"12dp\"\r\n            android:text=\"Difficulty Breathing\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/cbHead\" />\r\n\r\n        <RadioGroup\r\n            android:id=\"@+id/rgYesNo3\"\r\n            android:layout_width=\"73dp\"\r\n            android:layout_height=\"66dp\"\r\n            android:layout_marginStart=\"32dp\"\r\n            android:layout_marginTop=\"4dp\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/tfquestion2\">\r\n\r\n            <RadioButton\r\n                android:id=\"@+id/rbQ3Yes\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"Yes\" />\r\n\r\n            <RadioButton\r\n                android:id=\"@+id/rbQ3No\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"No\" />\r\n\r\n        </RadioGroup>\r\n\r\n        <RadioGroup\r\n            android:id=\"@+id/rgYesNo2\"\r\n            android:layout_width=\"186dp\"\r\n            android:layout_height=\"56dp\"\r\n            android:layout_marginStart=\"28dp\"\r\n            android:layout_marginTop=\"8dp\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/tfquestion4\">\r\n\r\n            <RadioButton\r\n                android:id=\"@+id/rbQ2Yes\"\r\n                android:layout_width=\"112dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"Yes\" />\r\n\r\n            <RadioButton\r\n                android:id=\"@+id/rbQ2No\"\r\n                android:layout_width=\"108dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"No\" />\r\n        </RadioGroup>\r\n\r\n        <TextView\r\n            android:id=\"@+id/tfQ3\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginTop=\"4dp\"\r\n            android:text=\"Q3\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/rgYesNo2\" />\r\n\r\n        <CheckBox\r\n            android:id=\"@+id/cbCough\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginTop=\"8dp\"\r\n            android:text=\"Cough\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/tfquestion1\" />\r\n\r\n        <Button\r\n            android:id=\"@+id/questionNextButton\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"144dp\"\r\n            android:layout_marginTop=\"56dp\"\r\n            android:text=\"Next\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/rgYesNo3\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/tfquestion2\" />\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/question_mobile.xml	(revision 31aeeb5ef13e8fe6aec9a8aa7832e3cdae0ba06a)
+++ app/src/main/res/layout/question_mobile.xml	(date 1606291380582)
@@ -97,12 +97,12 @@
 
         <CheckBox
             android:id="@+id/cbHead"
-            android:layout_width="184dp"
+            android:layout_width="238dp"
             android:layout_height="31dp"
-            android:layout_marginTop="16dp"
+            android:layout_marginTop="12dp"
             android:text="Head or Muscle Aches"
             app:layout_constraintEnd_toEndOf="parent"
-            app:layout_constraintHorizontal_bias="0.094"
+            app:layout_constraintHorizontal_bias="0.137"
             app:layout_constraintStart_toStartOf="parent"
             app:layout_constraintTop_toBottomOf="@+id/cbCough" />
 
Index: app/src/main/java/com/example/covid_19shoppingcentre/GenerateDailyReportJava.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.covid_19shoppingcentre;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.Manifest;\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\nimport android.print.PrintAttributes;\r\nimport android.print.PrintDocumentAdapter;\r\nimport android.print.PrintManager;\r\nimport android.util.Log;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.covid_19shoppingcentre.Common.ReportCommonJava;\r\nimport com.example.covid_19shoppingcentre.models.PdfDocumentAdapterJava;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.itextpdf.text.BaseColor;\r\nimport com.itextpdf.text.Chunk;\r\nimport com.itextpdf.text.Document;\r\nimport com.itextpdf.text.DocumentException;\r\nimport com.itextpdf.text.Element;\r\nimport com.itextpdf.text.Font;\r\nimport com.itextpdf.text.PageSize;\r\nimport com.itextpdf.text.Paragraph;\r\nimport com.itextpdf.text.pdf.BaseFont;\r\nimport com.itextpdf.text.pdf.PdfWriter;\r\nimport com.itextpdf.text.pdf.draw.LineSeparator;\r\nimport com.itextpdf.text.pdf.draw.VerticalPositionMark;\r\nimport com.karumi.dexter.Dexter;\r\nimport com.karumi.dexter.PermissionToken;\r\nimport com.karumi.dexter.listener.PermissionDeniedResponse;\r\nimport com.karumi.dexter.listener.PermissionGrantedResponse;\r\nimport com.karumi.dexter.listener.PermissionRequest;\r\nimport com.karumi.dexter.listener.single.PermissionListener;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\npublic class GenerateDailyReportJava extends AppCompatActivity {\r\n\r\n    Button btn_create_pdf;\r\n    DatabaseReference reff;\r\n    int count = 0;\r\n    int countCheckIn = 0;\r\n    int countCheckOut = 0;\r\n    int countAbnormal = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.generate_daily_report_java);\r\n\r\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(\"yyyy/MM/dd HH:mm:ss\");\r\n        LocalDateTime now = LocalDateTime.now();\r\n        LocalDateTime currentDateTime  = LocalDateTime.now();\r\n        DateTimeFormatter dateFormat  = DateTimeFormatter.ofPattern(\"yyyyMMdd\");\r\n        String dateText = currentDateTime.format(dateFormat);\r\n        count = 0;\r\n        countCheckIn = 0;\r\n        countCheckOut = 0;\r\n        countAbnormal = 0;\r\n\r\n\r\n        btn_create_pdf = (Button)findViewById(R.id.btn_create_pdf);\r\n\r\n        Dexter.withActivity(this)\r\n                .withPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE)\r\n                .withListener(new PermissionListener() {\r\n                    @Override\r\n                    public void onPermissionGranted(PermissionGrantedResponse response) {\r\n                        btn_create_pdf.setOnClickListener(new View.OnClickListener(){\r\n                            @Override\r\n                            public void onClick(View view){\r\n\r\n                                reff = FirebaseDatabase.getInstance().getReference().child(\"ShoppingCentre\");\r\n\r\n                                reff.addValueEventListener(new ValueEventListener() {\r\n                                    @Override\r\n                                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                                        count = count +1;\r\n                                    }\r\n\r\n                                    @Override\r\n                                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                                    }\r\n                                });\r\n\r\n                                createPDFFile(ReportCommonJava.getAppPath(GenerateDailyReportJava.this)+\"test_pdf.pdf\");\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                    @Override\r\n                    public void onPermissionDenied(PermissionDeniedResponse response) {\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onPermissionRationaleShouldBeShown(PermissionRequest permission, PermissionToken token) {\r\n\r\n                    }\r\n                })\r\n                .check();\r\n    }\r\n\r\n    private void createPDFFile(String path){\r\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(\"yyyy/MM/dd HH:mm:ss\");\r\n        LocalDateTime now = LocalDateTime.now();\r\n        LocalDateTime currentDateTime  = LocalDateTime.now();\r\n        DateTimeFormatter dateFormat  = DateTimeFormatter.ofPattern(\"yyyyMMdd\");\r\n        String dateText = currentDateTime.format(dateFormat);\r\n        String name = getIntent().getStringExtra(\"Count\");\r\n        String printer = getIntent().getStringExtra(\"PrinterName\");\r\n\r\n\r\n        if(new File(path).exists())\r\n            new File(path).delete();\r\n        try{\r\n\r\n            Document document = new Document();\r\n            //save\r\n            PdfWriter.getInstance(document, new FileOutputStream(path));\r\n\r\n            //open document\r\n            document.open();\r\n\r\n            //setting\r\n            document.setPageSize(PageSize.A4);\r\n            document.addCreationDate();\r\n            document.addAuthor(\"Enter Checking System\");\r\n            document.addCreator(\"Choo Yao Song\");\r\n\r\n            //font Setting\r\n            BaseColor colorAccent = new BaseColor(0,153,204,255);\r\n            float fontSize = 20.0f;\r\n            float valueFontSize = 26.0f;\r\n\r\n            //custom font\r\n            BaseFont fontName = BaseFont.createFont(\"assets/fonts/SourceSansPro-Regular.otf\", \"UTF-8\", BaseFont.EMBEDDED);\r\n\r\n            //Create titles of Document\r\n            Font titleFont = new Font(fontName, 36f, Font.NORMAL,BaseColor.BLACK);\r\n            addNewItem(document, \"Daily Reports\", Element.ALIGN_CENTER, titleFont);\r\n\r\n            //add more\r\n            Font orderNumberFont = new Font(fontName, fontSize,Font.NORMAL, colorAccent);\r\n            //addNewItem(document, \"Order No:\", Element.ALIGN_LEFT, orderNumberFont);\r\n\r\n            Font orderNumberValueFont = new Font(fontName, fontSize,Font.NORMAL, BaseColor.BLACK);\r\n            //addNewItem(document, \"#717171\", Element.ALIGN_LEFT, orderNumberValueFont);\r\n\r\n            addLineSeperator(document);\r\n\r\n            addNewItem(document, \"Generate Date\", Element.ALIGN_LEFT, orderNumberFont);\r\n            addNewItem(document, dtf.format(now), Element.ALIGN_LEFT, orderNumberValueFont);\r\n\r\n            addLineSeperator(document);\r\n\r\n            addNewItem(document, \"Staff Name:\", Element.ALIGN_LEFT, orderNumberFont);\r\n            addNewItem(document, printer, Element.ALIGN_LEFT, orderNumberValueFont);\r\n\r\n            addLineSeperator(document);\r\n\r\n            //Add Product order detail\r\n            addLineSpace(document);\r\n            addNewItem(document,\"Reports Detail\", Element.ALIGN_CENTER, titleFont);\r\n            addLineSeperator(document);\r\n\r\n            //Item\r\n            addNewItem(document, \"Total Customer Now : \" + name, Element.ALIGN_LEFT, orderNumberValueFont);\r\n            /* addNewItemWithLeftAndRight(document, \"12.0*1000\", \"12000.0\", titleFont, orderNumberValueFont); */\r\n\r\n            addLineSpace(document);\r\n\r\n            addNewItem(document, \"Total Customer CheckIn Now : \" + countCheckIn, Element.ALIGN_LEFT, orderNumberValueFont);\r\n\r\n            addLineSpace(document);\r\n\r\n            addNewItem(document, \"Total Customer CheckOut Now : \" + countCheckOut, Element.ALIGN_LEFT, orderNumberValueFont);\r\n\r\n            addLineSpace(document);\r\n\r\n            addNewItem(document, \"Total Abnormal Record Now : \" + countAbnormal, Element.ALIGN_LEFT, orderNumberValueFont);\r\n\r\n            //addNewItemWithLeftAndRight(document, \"Pizza 25\", \"(0.0%)\", titleFont, orderNumberValueFont);\r\n            //addNewItemWithLeftAndRight(document, \"12.0*1000\", \"12000.0\", titleFont, orderNumberValueFont);\r\n\r\n            addLineSeperator(document);\r\n\r\n            //Total\r\n            //addLineSpace(document);\r\n            //addLineSpace(document);\r\n\r\n\r\n            document.close();\r\n\r\n            Toast.makeText(this, \"Success\", Toast.LENGTH_SHORT).show();\r\n\r\n            printPDF();\r\n\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (DocumentException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void printPDF() {\r\n        PrintManager printManager = (PrintManager)getSystemService(Context.PRINT_SERVICE);\r\n        try{\r\n            PrintDocumentAdapter printDocumentAdapter = new PdfDocumentAdapterJava(GenerateDailyReportJava.this, ReportCommonJava.getAppPath(GenerateDailyReportJava.this) + \"test_pdf.pdf\");\r\n            printManager.print(\"Document\", printDocumentAdapter, new PrintAttributes.Builder().build());\r\n        } catch (Exception e) {\r\n            Log.e(\"Error\", \"\"+e.getMessage());\r\n        }\r\n    }\r\n\r\n    private void addNewItemWithLeftAndRight(Document document, String textLeft, String textRight, Font textLeftFont, Font textRightFont) throws DocumentException {\r\n        Chunk chunkTextLeft = new Chunk(textLeft, textLeftFont);\r\n        Chunk chunkTextRight = new Chunk(textLeft, textRightFont);\r\n        Paragraph p = new Paragraph(chunkTextLeft);\r\n        p.add(new Chunk(new VerticalPositionMark()));\r\n        p.add(chunkTextRight);\r\n        document.add(p);\r\n    }\r\n\r\n    private void addLineSeperator(Document document) throws DocumentException {\r\n        LineSeparator lineSeparator = new LineSeparator();\r\n        lineSeparator.setLineColor(new BaseColor(0,0,0,68));\r\n        addLineSpace(document);\r\n        document.add(new Chunk(lineSeparator));\r\n        addLineSpace(document);\r\n    }\r\n\r\n    private void addLineSpace(Document document) throws DocumentException {\r\n        document.add(new Paragraph(\"\"));\r\n    }\r\n\r\n    private void addNewItem(Document document, String text, int align, Font font) throws DocumentException {\r\n        Chunk chunk = new Chunk(text,font);\r\n        Paragraph paragraph = new Paragraph(chunk);\r\n        paragraph.setAlignment(align);\r\n        document.add(paragraph);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/covid_19shoppingcentre/GenerateDailyReportJava.java	(revision 31aeeb5ef13e8fe6aec9a8aa7832e3cdae0ba06a)
+++ app/src/main/java/com/example/covid_19shoppingcentre/GenerateDailyReportJava.java	(date 1606295468338)
@@ -57,6 +57,8 @@
     int countCheckIn = 0;
     int countCheckOut = 0;
     int countAbnormal = 0;
+    String key;
+    String a;
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
@@ -73,7 +75,6 @@
         countCheckOut = 0;
         countAbnormal = 0;
 
-
         btn_create_pdf = (Button)findViewById(R.id.btn_create_pdf);
 
         Dexter.withActivity(this)
@@ -84,22 +85,48 @@
                         btn_create_pdf.setOnClickListener(new View.OnClickListener(){
                             @Override
                             public void onClick(View view){
+//                                countCheckIn = 0;
+//                                countCheckOut = 0;
+//                                countAbnormal = 0;
 
-                                reff = FirebaseDatabase.getInstance().getReference().child("ShoppingCentre");
+                                reff = FirebaseDatabase.getInstance().getReference().child("ShoppingCentre").child(dateText);
 
                                 reff.addValueEventListener(new ValueEventListener() {
                                     @Override
-                                    public void onDataChange(@NonNull DataSnapshot snapshot) {
-                                        count = count +1;
+                                    public void onDataChange(DataSnapshot dataSnapshot) {
+                                        count = 1;
+                                        for (DataSnapshot postSnapshot: dataSnapshot.getChildren()) {
+                                            count = 2;
+                                            if(postSnapshot.exists()){
+                                                count = 3;
+                                                key = postSnapshot.getKey();
+                                                a = dataSnapshot.child(key).child("status").getValue().toString();
+                                                if(dataSnapshot.child(key).child("status").getValue().toString().equals("checkIn")){
+                                                    count = 4;
+                                                    countCheckIn = countCheckIn + 1;
+                                                }else if (dataSnapshot.child(key).child("status").getValue().toString().equals("checkOut")){
+                                                    count = 4;
+                                                    countCheckOut = countCheckOut + 1;
+                                                }else{
+                                                    count = 4;
+                                                    countAbnormal = countAbnormal + 1;
+                                                }
+                                            }
+
+                                        }
                                     }
 
                                     @Override
-                                    public void onCancelled(@NonNull DatabaseError error) {
-
+                                    public void onCancelled(DatabaseError error) {
+                                        Toast.makeText(getApplicationContext(),"Error Access Database",Toast.LENGTH_SHORT).show();
                                     }
                                 });
 
-                                createPDFFile(ReportCommonJava.getAppPath(GenerateDailyReportJava.this)+"test_pdf.pdf");
+                                if(count == 0) {
+                                    Toast.makeText(getApplicationContext(),"count =" + count,Toast.LENGTH_SHORT).show();
+                                }else{
+                                    createPDFFile(ReportCommonJava.getAppPath(GenerateDailyReportJava.this) + "test_pdf.pdf");
+                                }
                             }
                         });
                     }
@@ -181,20 +208,20 @@
             addLineSeperator(document);
 
             //Item
-            addNewItem(document, "Total Customer Now : " + name, Element.ALIGN_LEFT, orderNumberValueFont);
+            addNewItem(document, "Total Customer : " + count, Element.ALIGN_LEFT, orderNumberValueFont);
             /* addNewItemWithLeftAndRight(document, "12.0*1000", "12000.0", titleFont, orderNumberValueFont); */
 
             addLineSpace(document);
 
-            addNewItem(document, "Total Customer CheckIn Now : " + countCheckIn, Element.ALIGN_LEFT, orderNumberValueFont);
+            addNewItem(document, "Total Customer CheckIn : " + countCheckIn, Element.ALIGN_LEFT, orderNumberValueFont);
 
             addLineSpace(document);
 
-            addNewItem(document, "Total Customer CheckOut Now : " + countCheckOut, Element.ALIGN_LEFT, orderNumberValueFont);
+            addNewItem(document, "Total Customer CheckOut : " + countCheckOut, Element.ALIGN_LEFT, orderNumberValueFont);
 
             addLineSpace(document);
 
-            addNewItem(document, "Total Abnormal Record Now : " + countAbnormal, Element.ALIGN_LEFT, orderNumberValueFont);
+            addNewItem(document, "Total Abnormal Record : " + countAbnormal, Element.ALIGN_LEFT, orderNumberValueFont);
 
             //addNewItemWithLeftAndRight(document, "Pizza 25", "(0.0%)", titleFont, orderNumberValueFont);
             //addNewItemWithLeftAndRight(document, "12.0*1000", "12000.0", titleFont, orderNumberValueFont);
Index: .idea/gradle.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"GradleMigrationSettings\" migrationVersion=\"1\" />\r\n  <component name=\"GradleSettings\">\r\n    <option name=\"linkedExternalProjectsSettings\">\r\n      <GradleProjectSettings>\r\n        <option name=\"testRunner\" value=\"PLATFORM\" />\r\n        <option name=\"distributionType\" value=\"DEFAULT_WRAPPED\" />\r\n        <option name=\"externalProjectPath\" value=\"$PROJECT_DIR$\" />\r\n        <option name=\"gradleJvm\" value=\"1.8\" />\r\n        <option name=\"modules\">\r\n          <set>\r\n            <option value=\"$PROJECT_DIR$\" />\r\n            <option value=\"$PROJECT_DIR$/app\" />\r\n          </set>\r\n        </option>\r\n        <option name=\"resolveModulePerSourceSet\" value=\"false\" />\r\n      </GradleProjectSettings>\r\n    </option>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/gradle.xml	(revision 31aeeb5ef13e8fe6aec9a8aa7832e3cdae0ba06a)
+++ .idea/gradle.xml	(date 1606281253769)
@@ -15,6 +15,7 @@
           </set>
         </option>
         <option name="resolveModulePerSourceSet" value="false" />
+        <option name="useQualifiedModuleNames" value="true" />
       </GradleProjectSettings>
     </option>
   </component>
